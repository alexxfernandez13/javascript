<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Ejercicio 8 - Votaciones en gr√°fico</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            font-size: 0.9em;
        }

        .buttons-container {
            margin: 15px 0;
        }

        button {
            margin: 0 8px;
            padding: 8px 16px;
        }

        h1 {
            font-size: 1.5em;
        }

        .btn-custom {
            background-color: white;
            color: #0d6efd;
            border: 1px solid #0d6efd;
        }

        .btn-custom:hover {
            background-color: #0d6efd;
            color: white;
        }

        .btn-reset {
            background-color: white;
            color: red;
            border: 1px solid red;
        }

        .btn-reset:hover {
            background-color: red;
            color: white;
        }
    </style>
  </head>

  <body>
    <a href="../index.html" class="btn btn-primary position-absolute m-3">
        <i class="bi bi-arrow-left"></i> Back
    </a>
    <div class="container">
      <h1>Votaciones</h1>
      <div class="buttons-container">
        <button type="button" class="btn btn-custom rounded" style="font-size: 0.8em;" onclick="vote(0)">Socialistas</button>
        <button type="button" class="btn btn-custom rounded" style="font-size: 0.8em;" onclick="vote(1)">Liberales</button>
        <button type="button" class="btn btn-custom rounded" style="font-size: 0.8em;" onclick="vote(2)">Animalistas</button>
        <button type="button" class="btn btn-custom rounded" style="font-size: 0.8em;" onclick="vote(3)">Centristas</button>
        <button type="button" class="btn btn-custom rounded" style="font-size: 0.8em;" onclick="vote(4)">Ecologistas</button>
        <button type="button" class="btn btn-reset rounded" style="font-size: 0.8em;" onclick="reset()">Reset</button>
      </div>
      <div style="width: 300px; height: 300px;">
        <canvas id="votingChart"></canvas>
      </div>
    </div>

    <script>
      let votes = [0, 0, 0, 0, 0];
      
      const ctx = document.getElementById('votingChart').getContext('2d');
      const votingChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Socialistas', 'Liberales', 'Animalistas', 'Centristas', 'Ecologistas'],
          datasets: [{
            data: votes,
            backgroundColor: [
              '#FF6384',
              '#36A2EB',
              '#FFCE56',
              '#4BC0C0',
              '#9966FF'
            ]
          }]
        }
      });

      function vote(partyIndex) {
        votes[partyIndex]++;
        votingChart.data.datasets[0].data = votes;
        votingChart.update();
      }

      function reset() {
        votes = [0, 0, 0, 0, 0];
        votingChart.data.datasets[0].data = votes;
        votingChart.update();
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>